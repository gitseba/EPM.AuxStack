<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
						  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
						  xmlns:local="clr-namespace:LogProcessor.Wpf">

	<!-- Base MainWindow Style -->
	<Style x:Key="Window_BaseStyle"
			 TargetType="{x:Type local:ShellWindow}">
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type Window}">
					<Border Style="{StaticResource Border_BaseStyle}">

						<!-- The main window content -->
						<Grid>
							<Grid.RowDefinitions>
								<!-- Title Bar -->
								<RowDefinition Height="24" />
								<!-- Window Content -->
								<RowDefinition Height="*" />
							</Grid.RowDefinitions>

							<!-- Title Bar -->
							<Grid Panel.ZIndex="1">
								<Grid.ColumnDefinitions>
									<!-- Title -->
									<ColumnDefinition Width="*" />
									<!-- Window Buttons -->
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>

								<!-- Title -->
								<Viewbox Grid.Column="0"
											Grid.ColumnSpan="2"
											Margin="2">
									<TextBlock Text="{Binding ElementName=MainParent, Path=Title}" />
								</Viewbox>

								<!-- Window Buttons -->
								<StackPanel Grid.Column="1"
												Orientation="Horizontal"
												Margin="1">
									<!--  _  -->
									<Button Content="_"
											  Style="{StaticResource Btn_WindowStyle}"
											  Command="{Binding MinimizeCommand}"
											  CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}" />

									<!-- [ ] -->
									<Button Content="[ ]"
											  Style="{StaticResource Btn_WindowStyle}"
											  Command="{Binding MaximizeCommand}"
											  CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}" />
									<!--  X  -->
									<Button Content="X"
											  Style="{StaticResource Btn_WindowDangerStyle}"
											  Command="{Binding ExitCommand}"
											  CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}" />

								</StackPanel>
							</Grid>

							<!-- Window Content -->
							<Border Grid.Row="1"
									  Margin="4">

								<!-- Content -->
								<ContentPresenter Content="{TemplateBinding Content}" />
							</Border>
						</Grid>
					</Border>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

</ResourceDictionary>